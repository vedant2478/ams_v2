#:kivy 2.1.0

<ActivityDoneScreen>:
    name: "activity_done"

    FloatLayout:

        # ===== HEADER =====
        Header:
            pos_hint: {"top": 1}

        # ===== BACKGROUND =====
        GradientBackground:
            pos: self.parent.pos
            size: self.parent.size

        # ===== MAIN CARD =====
        BoxLayout:
            orientation: "vertical"
            size_hint: None, None
            size: "540dp", "640dp"
            pos_hint: {"center_x": 0.5, "center_y": 0.50}
            padding: "30dp"
            spacing: "18dp"

            # Big green check
            Widget:
                size_hint_y: None
                height: "170dp"
                canvas:
                    Color:
                        rgba: 0, 1, 0, 1
                    Line:
                        circle: (self.center_x, self.center_y, 70)
                        width: 6
                    Line:
                        points: self.center_x - 35, self.center_y, self.center_x - 5, self.center_y - 35, self.center_x + 45, self.center_y + 35
                        width: 6

            # Title
            Label:
                text: "ACTIVITY\nCOMPLETED"
                font_size: "30sp"
                bold: True
                color: 0, 1, 0, 1
                halign: "center"
                valign: "middle"
                text_size: self.size
                size_hint_y: None
                height: "80dp"

            # Operation details
            Label:
                text: "Operation Details"
                font_size: "18sp"
                color: 0.85, 0.9, 0.95, 1
                size_hint_y: None
                height: "32dp"

            Label:
                text: "Retrieved :  " + root.retrieved_text
                font_size: "16sp"
                color: 0.9, 0.93, 0.97, 1
                size_hint_y: None
                height: "26dp"

            Label:
                text: "Returned  :  " + root.returned_text
                font_size: "16sp"
                color: 0.9, 0.93, 0.97, 1
                size_hint_y: None
                height: "26dp"

            Widget:
                size_hint_y: None
                height: "10dp"

            Label:
                text: "TimeStamp: " + root.timestamp_text
                font_size: "15sp"
                color: 0.8, 0.86, 0.93, 1
                size_hint_y: None
                height: "24dp"

            Widget:
                size_hint_y: None
                height: "20dp"

            Label:
                text: "Auto-dismissing in [b]" + str(root.countdown) + "[/b] seconds..."
                markup: True
                font_size: "16sp"
                color: 0.9, 0.95, 1, 1
                size_hint_y: None
                height: "26dp"

            Widget:
                size_hint_y: None
                height: "16dp"

            Button:
                text: "RETURN TO MAIN MENU"
                size_hint_y: None
                height: "52dp"
                font_size: "16sp"
                bold: True
                background_normal: ""
                background_color: 0, 0.8, 0, 1
                color: 1, 1, 1, 1
                on_release: root.on_return_pressed()

        # ===== FOOTER =====
        Footer:
            pos_hint: {"y": 0}
            version_text: "Version: 12.9.3"
